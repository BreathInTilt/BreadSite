{% extends "orders/base.html" %}

{% block title %}
Edit Profile - BreadSite
{% endblock %}

{% block content %}
<div class="px-4 md:px-40 flex flex-1 justify-center py-5">
    <div class="flex flex-col max-w-[960px] w-full">
        <h1 class="text-[#181411] text-[32px] font-bold leading-tight mt-3 text-center">
            Edit Profile
        </h1>

        {% if messages %}
            <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-xl mt-4" role="alert">
                {% for message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            </div>
        {% endif %}

        <div class="bg-white p-6 rounded-xl shadow-lg mt-6">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="mb-4">
                    <label for="{{ user_form.first_name.id_for_label }}" class="block text-[#181411] text-sm font-medium">First Name</label>
                    {{ user_form.first_name }}
                </div>
                <div class="mb-4">
                    <label for="{{ user_form.last_name.id_for_label }}" class="block text-[#181411] text-sm font-medium">Last Name</label>
                    {{ user_form.last_name }}
                </div>
                <div class="mb-4">
                    <label for="{{ profile_form.avatar.id_for_label }}" class="block text-[#181411] text-sm font-medium">Avatar</label>
                    {{ profile_form.avatar }}
                    {% if user.profile.avatar %}
                        <p class="text-[#887263] text-sm mt-2">Current avatar: <img src="{{ user.profile.avatar.url }}" alt="Avatar" class="w-16 h-16 rounded-full object-cover mt-2"></p>
                    {% endif %}
                </div>
                <div class="mb-4">
                    <label for="{{ profile_form.bio.id_for_label }}" class="block text-[#181411] text-sm font-medium">Bio</label>
                    {{ profile_form.bio }}
                </div>
                <div class="flex gap-4">
                    <button type="submit" class="flex-1 rounded-xl h-10 bg-[#e66e19] text-white text-sm font-bold leading-normal flex items-center justify-center btn-custom">
                        Save Changes
                    </button>
                    <a href="{% url 'user_orders' %}" class="flex-1 text-center rounded-xl h-10 bg-[#f4f2f0] text-[#181411] text-sm font-bold leading-normal flex items-center justify-center">
                        Cancel
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}